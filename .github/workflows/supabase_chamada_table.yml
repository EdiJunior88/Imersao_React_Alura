name: Keep Supabase Alive

on:
  schedule:
    - cron: '0 */10 * * *' # Executar a cada 10 horas

jobs:
  keep_alive:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 14

    - name: Install dependencies
      run: npm install

    - name: Keep Supabase Alive
      run: |
        # Substitua as variáveis abaixo pelas suas credenciais e informações do projeto Supabase
        export SUPABASE_URL=https://kbepchfnyekginxgukoi.supabase.co
        export SUPABASE_KEY=SUPABASE_TOKEN

        # Fazer chamada à API do Supabase para manter o projeto ativo
        curl -X POST "${SUPABASE_URL}/rest/v1/request" -H "apikey: ${SUPABASE_KEY}"

